<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en-us" }}">
<head>
  {{ partial "head.html" . }}
</head>
<body>
  <!-- Using React Boot Screen instead -->
  <!-- {{ partial "boot-screen.html" . }} -->
  {{ partial "loading-screen.html" . }}
  
  <!-- Mobile menu toggle -->
  <button class="mobile-menu-toggle" aria-label="Toggle menu">
    <span></span>
    <span></span>
    <span></span>
  </button>
  
  <!-- Mobile overlay -->
  <div class="mobile-overlay"></div>
  
  <div class="container">
    <header>
      {{ partial "site-header.html" . }}
      {{ partial "nav.html" . }}
    </header>
    
    <main>
      {{ block "main" . }}{{ end }}
    </main>
    
    <footer>
      <h1 class="footer-title">RYONGJIN</h1>
      <p class="site-url">blog.younjinjeong.io</p>
      <p>© {{ now.Format "2006" }} {{ .Site.Title }} | POWERED BY HUGO</p>
      <p>RYONGJIN INDUSTRIES TERMINAL INTERFACE V2.3.0</p>
    </footer>
  </div>
  
  <!-- Mobile Navigation Controls -->
  {{ partial "mobile-nav-controls.html" . }}
  
  <!-- 사운드 파일 미리 로드 -->
  <audio id="clickSound" preload="auto" style="display: none;">
    <source src="/sounds/tv-channel-change.mp3" type="audio/mpeg">
  </audio>
  
  <!-- Boot Screen Component -->
  <script type="application/javascript" src="/js/boot-screen.js"></script>
  
  <!-- Search Engine Module -->
  <script type="application/javascript" src="/js/search-engine.js"></script>
  
  <!-- 터미널 커서 스크립트 - 모든 페이지에서 로드 -->
  <script type="application/javascript" src="/js/cursor.js"></script>
  <script type="application/javascript" src="/js/mobile.js"></script>
  <script type="application/javascript" src="/js/lang-detect.js"></script>

  <!-- Mermaid diagram support (loaded only on pages with mermaid blocks) -->
  {{ if .Store.Get "hasMermaid" }}
  <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: 'dark',
      themeVariables: {
        darkMode: true,
        primaryColor: '#003300',
        primaryTextColor: '#41ff00',
        primaryBorderColor: '#29a000',
        lineColor: '#41ff00',
        secondaryColor: '#001a00',
        tertiaryColor: '#002200',
        noteBkgColor: '#001100',
        noteTextColor: '#41ff00',
        noteBorderColor: '#29a000',
        actorTextColor: '#41ff00',
        actorBorder: '#29a000',
        actorBkg: '#001100',
        labelTextColor: '#41ff00',
        edgeLabelBackground: '#001100',
        clusterBkg: '#001a00',
        clusterBorder: '#29a000',
        fontFamily: 'Monofonto, VT323, monospace'
      }
    });
  </script>
  {{ end }}

  <!-- 터미널 단축키 힌트 -->
  <div class="terminal-shortcut-hint">
    Press Shift+T for terminal
  </div>
</body>
</html>
