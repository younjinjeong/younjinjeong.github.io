{{ define "main" }}

<h1>Latest posts</h1>

<div class="posts-list">
{{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" (slice "posts")) }}
{{ range $paginator.Pages }}
    <div class="post">
        <p>
            <div class="date">{{ .PublishDate.Format "Jan. 2, 2006" }}</div>
            <h1><a href="{{ .Permalink }}" title="{{ .Title }}">{{ .Title }}</a></h1>
            {{ if .Params.tags }}
            <div class="tags">
                {{ range .Params.tags }}
                <span class="tag">{{ . }}</span>
                {{ end }}
            </div>
            {{ end }}
            {{ .Summary }}
        </p>
    </div>    
{{ end }}
</div>


<!-- Remove Photo feature for a while  
<h1>Latest photos</h1>

<div class="image-grid">
{{ with .Site.GetPage "/photos" }}
    {{ range first 3 (sort .Data.Pages "Date" "desc")}}
        <a href="{{ .Permalink }}" title="{{ .Title }}">
        {{ $image := .Page.Resources.GetMatch .Params.image }}
        {{ with $image }}
            {{ $thumb := .Resize "400x" }}
            <img src="{{ $thumb.RelPermalink }}" alt="{{ .Title }}" class="img-responsive">
        {{end}}
        </a>
    {{ end }}
{{ end }}
</div>

-->

{{ end }}